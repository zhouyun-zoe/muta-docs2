<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">Mempool | Muta</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Mempool | Muta"><meta data-react-helmet="true" name="description" content="## 设计要求"><meta data-react-helmet="true" property="og:description" content="## 设计要求"><meta data-react-helmet="true" property="og:url" content="https://zhouyun-zoe.github.io/muta-docs2/docs/docs_zh/transaction_pool">

<link data-react-helmet="true" rel="shortcut icon" href="/muta-docs2/img/muta-logo.png">


<link rel="stylesheet" href="/muta-docs2/styles.e2aa70e3.css">


<link rel="preload" href="/muta-docs2/styles.917e3326.js" as="script">

<link rel="preload" href="/muta-docs2/runtime~main.b119cd94.js" as="script">

<link rel="preload" href="/muta-docs2/main.ce345691.js" as="script">

<link rel="preload" href="/muta-docs2/1.991d3a80.js" as="script">

<link rel="preload" href="/muta-docs2/2.93346daa.js" as="script">

<link rel="preload" href="/muta-docs2/3.5acddcf1.js" as="script">

<link rel="preload" href="/muta-docs2/1be78505.0a969bfc.js" as="script">

<link rel="preload" href="/muta-docs2/78ab87d2.c282a14f.js" as="script">

<link rel="preload" href="/muta-docs2/17896441.a65f949d.js" as="script">

<link rel="preload" href="/muta-docs2/0d467f58.8e9bc4e7.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/muta-docs2/"><img class="navbar__logo" src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong class="navbar__title">Muta</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/muta-docs2/docs/docs_zh/intro">Docs</a><a class="navbar__item navbar__link" href="/muta-docs2/docs/tutorial/first-chain/before-create">Tutorial</a><a class="navbar__item navbar__link" href="/muta-docs2/blog">Blog</a><a class="navbar__item navbar__link" href="/muta-docs2/showcase">Showcase</a><a class="navbar__item navbar__link" href="/muta-docs2/docs/support/support">Support</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Translation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/muta-docs2/docs/docs_zh/intro">中文</a></li><li><a class="dropdown__link" href="/muta-docs2/docs/docs_en/intro">English</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/muta-docs2/"><img class="navbar__logo" src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong class="navbar__title">Muta</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" position="left" href="/muta-docs2/docs/docs_zh/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/docs/tutorial/first-chain/before-create">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/showcase">Showcase</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/docs/support/support">Support</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta" class="menu__link" position="right">GitHub</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist" position="right">Translation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/muta-docs2/docs/docs_zh/intro">中文</a></li><li class="menu__list-item"><a class="menu__link" href="/muta-docs2/docs/docs_en/intro">English</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><a tabindex="-1" class="sidebarLogo_3ono" href="/muta-docs2/"><img src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong>Muta</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">介绍</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/intro">介绍</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/concept">关键概念</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">安装与部署</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/getting_started">快速入门</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/config">配置说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/multi_node_deploy">多节点部署指南</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/dev_overview">开发概览</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/service_dev">Service 开发指南</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/dex">DEX 开发指南</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">深入Muta</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/muta-docs2/docs/docs_zh/transaction_pool">Mempool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/overlord">Overlord 架构设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/network">网络设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/storage">存储设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/crypto">密码学</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">接口</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/graphql">GraphQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/js_sdk">JS-SDK</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">常见问题</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">贡献说明</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/contribute">贡献代码</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Mempool</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="设计要求"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#设计要求" title="Direct link to heading">#</a>设计要求</h2><p>Mempool 是节点负责收集新交易以及打包新交易给共识模块进行共识的功能模块。很自然地，我们对 Mempool 会提出一些要求：</p><ol><li>性能优秀，在普通计算设备中运行即可达到每秒插入 10000+ 笔交易的性能要求。</li><li>公平性，按照收到交易的顺序打包交易。</li></ol><p>此外，为了配合共识过程与交易同步过程并发的设计，还有第三个要求：</p><ol start="3"><li>打包给共识的交易包含两部分：用于共识的 order 交易以及用于同步的 propose 交易。</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="设计方案"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#设计方案" title="Direct link to heading">#</a>设计方案</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="优良性能"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#优良性能" title="Direct link to heading">#</a>优良性能</h3><p>要获得优秀的性能，首先要分析交易插入的过程，找到性能瓶颈之处对症解决。一笔交易插入 Mempool 的过程包括：</p><ol><li>检查交易池是否已满，以避免内存溢出。</li><li>检查交易是否已经被交易池包含，以避免重复插入。</li><li>检查交易的签名是否正确，格式是否合规，以避免插入明显错误的交易。</li><li>检查交易是否已经上链，以避免共识已上链的交易。</li></ol><p>随着区块链的不断增长，历史交易数据日益庞大，步骤 4 的查询将会成为性能黑洞。我们通过在交易中设置一个必填的 timeout 字段，以及一个全局约束参数 g 来解决该问题。</p><p>具体来说，当某笔交易的 timeout 为 t，若该交易在高度 t 仍未被打包，则会被视为失效而被节点抛弃。为了避免用户设置过高的 timeout，若最新高度为 h 的节点收到的交易的 timeout t &gt; h + g，同样会被节点视为非法而抛弃。在这种机制的约束下，最新高度为 h 的节点仅需保存高度区间为 [h - g, h] 的历史交易用于查重，查重的计算复杂度和存储复杂度均降到了O(g)，与历史交易总量无关。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="公平打包"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#公平打包" title="Direct link to heading">#</a>公平打包</h3><p>在交易优先级相同的情况下，如果节点后收到的交易却先被打包，这显然有违公平性。因此，交易池的交易必须按照先入先出的原则进行打包。</p><p>然而，如果按照以太坊的 nonce 单调递增的设计（交易中的 nonce 字段的设计是为了确保交易的唯一性），若交易池同时包含多笔同一用户发出的交易，则这些交易之间还需要满足偏序关系，这会给打包机制带来非常大的复杂性。因此，我们采用随机 nonce 的方式生成唯一交易，这种设计还会带来其他一些额外的好处，比如获得了更好的并发执行能力（例如同一个用户发出的多笔交易被同一个区块打包，在以太坊中这些交易必须顺序执行，而采用随机 nonce 后，我们就可以并发执行这些交易），简化钱包的设计（在以太坊中，钱包需要同步最新的 nonce，以避免发出重复的交易，而在我们的设计中就没有这样的要求）。</p><p>总之，强制要求一个用户的所有交易保持偏序是没有必要且低效的，如果某些交易之间存在某种依赖关系，我们可以使用 ref 字段来表示这种关系，以此获得比以太坊更通用的依赖表达，比如用于表示不同用户之间交易的依赖关系。并且我们的顺序打包方案可以很容易地扩展到满足这种依赖需求。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="提前同步"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#提前同步" title="Direct link to heading">#</a>提前同步</h3><p>由于区块链是一个分布式系统，不同节点的交易池所包含的交易集合不会完全相同。共识过程与交易同步打包的核心思想是，在交易池中包含的交易很多，无法被一次共识完成的情况下（受限于 cycle_limit，类似以太坊的 gas_limit），未参与共识的交易的同步过程可以与共识过程并发进行。通过这样的设计，在下一个高度的共识开始的时候，参与共识的交易的同步过程已经提前一个高度开始了，共识效率因此得到了提升。</p><p>具体来说，就是交易池打包的时候，在 order 交易满了之后，继续打包交易作为 propose 交易。在共识的时候，leader 节点发出的提案中包含了 order 交易 和 propose 交易（提案中包含的实际上都是交易哈希，在共识过程中，我们采用的是 compact block<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> 的设计）。order 交易参与共识，而 propose 交易开始同步。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="具体设计"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#具体设计" title="Direct link to heading">#</a>具体设计</h2><p>为了满足以上要求，我们用 Map 和 Queue 结构共享存储交易数据，Map 可快速查询和删除，而 Queue 满足先入先出的打包要求。事实上，我们用了两个 queue，就像两个杯子交替倒牛奶。Mempool 的核心数据结构如下：</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-rust codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct TxCache {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 用 queue 实现先入先出的打包功能. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 用两个 queue 轮流存储交易. 一个 queue 当前轮值, 另一个则作为替补. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 打包时从当前轮值的 queue 中顺序打包.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    queue_0: Queue&lt;SharedTx&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    queue_1: Queue&lt;SharedTx&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 用 map 完成高效的随机查询和删除交易.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    map: Map&lt;Hash, SharedTx&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 指示当前轮值的 queue, true 为 queue_0, false 为 queue_1.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    is_zero: AtomicBool,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 用于原子操作，以妥善处理打包与插入的并发问题. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    concurrent_count: AtomicUsize,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// 用于 map 和 queue 中共享的交易结构</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type SharedTx = Arc&lt;TxWrapper&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct TxWrapper {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tx: SignedTransaction,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 该交易是否被 map 删除，有该标识的交易在打包交易时会被跳过，并且从 queue 中删除</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    removed: AtomicBool,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /// 避免重复同步的标识，有该标识的交易在打包 propose 交易时会被跳过</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    proposed: AtomicBool,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// 用于存储共识同步返回的交易</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type CallbackCache = Map&lt;Hash, SignedTransaction&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// Mempool 打包返回给共识模块的数据结构</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct MixedTxHashes {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    order_tx_hashes: Vec&lt;Hash&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    propose_tx_hashes: Vec&lt;Hash&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>通过所有检查的新交易在插入 Mempool 时，首先包装为 <code>TxWrapper</code>（<code>removed</code> 和 <code>proposed</code> 均设置为 <code>false</code>）。然后转换为 <code>SharedTx</code> 并插入 <code>TxCache</code> 中（插入当前轮值的 <code>queue</code> 的尾部，以及 <code>map</code> 中）。 </p><p>Mempool 收到共识的打包请求时，返回 <code>MixedTxHashes</code>，其中包含用于共识的 <code>order_tx_hashes</code> 和用于提前同步的 <code>propose_tx_hashes</code>。</p><p>打包算法如下，从当前轮值的 <code>queue</code> 的头部开始弹出交易，跳过 <code>removed = true</code> 的 <code>TxWrapper</code>，直到达到 <code>cycle_limit </code>上限为止，将这些交易哈希插入 <code>order_tx_hashes</code> 中。继续弹出交易，跳过 <code>proposed = true</code> 的 <code>TxWrapper</code>，直到达到 <code>cycle_limit</code> 上限为止，将这些交易哈希插入 <code>propose_tx_hashes</code> 中。以上弹出的交易除了 <code>removed = true</code> 的交易外都按照弹出顺序插入到当前替补的 <code>queue</code> 中。当轮值 <code>queue</code> 全部弹出后，交换两个 <code>queue</code> 的身份。</p><p>当节点收到来自 leader 的 proposal 时，会请求 Mempool 检查 <code>order_tx_hashes</code> 和 <code>propose_tx_hashes</code>。Mempool 通过查询 <code>TxCache.map</code> 确定交易是否存在，对于缺失的交易发起同步请求。对于同步返回的 order 交易插入到 <code>CallbackCache</code> 中，而对于同步返回的 propose 交易则插入到 <code>TxCache</code>  中，并将 <code>proposed</code> 设置为 <code>true</code>。</p><p>Mempool 收到共识的删除指定 <code>tx_hashes</code> 集合的请求时，先清空 <code>CallbackCache</code>，然后查询 <code>TxCache.map</code>，将对应的 <code>TxWrapper</code> 中的 <code>removed</code> 设置为 <code>true</code>，然后删除该 <code>SharedTx</code>。</p><p>Mempool 的插入和打包过程如下图所示。</p><p><img src="./static/mempool_process.png" alt="image"></p><p><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> compact block: 压缩区块，leader 发送的 proposal 中仅包含交易哈希，收到 proposal 的节点检查交易哈希是否在本地 Mempool 中，如果没有则向 leader 请求缺失的完整交易。通过 compact block 的设计，可以减少交易传输量，提高带宽利用率。</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nervosnetwork/muta-docs/docs/docs_zh/transaction_pool.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/muta-docs2/docs/docs_zh/dex"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Tutorial：使用 Muta 框架从零开发一条 Dex 专有链</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/muta-docs2/docs/docs_zh/overlord"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Overlord 架构设计 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#设计要求" class="contents__link">设计要求</a></li><li><a href="#设计方案" class="contents__link">设计方案</a><ul><li><a href="#优良性能" class="contents__link">优良性能</a></li><li><a href="#公平打包" class="contents__link">公平打包</a></li><li><a href="#提前同步" class="contents__link">提前同步</a></li></ul></li><li><a href="#具体设计" class="contents__link">具体设计</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/getting_started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/service_dev">Service Development</a></li><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/dex">Dapp Development</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://talk.nervos.org/">Forum</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.com/invite/rN35fe8">Discord</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/nervosnetwork">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Nervos Foundation</div></div></div></footer>
</div>

<script src="/muta-docs2/styles.917e3326.js"></script>

<script src="/muta-docs2/runtime~main.b119cd94.js"></script>

<script src="/muta-docs2/main.ce345691.js"></script>

<script src="/muta-docs2/1.991d3a80.js"></script>

<script src="/muta-docs2/2.93346daa.js"></script>

<script src="/muta-docs2/3.5acddcf1.js"></script>

<script src="/muta-docs2/1be78505.0a969bfc.js"></script>

<script src="/muta-docs2/78ab87d2.c282a14f.js"></script>

<script src="/muta-docs2/17896441.a65f949d.js"></script>

<script src="/muta-docs2/0d467f58.8e9bc4e7.js"></script>


</body>
</html>