<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">快速入门 | Muta</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="快速入门 | Muta"><meta data-react-helmet="true" name="description" content="## 安装和运行"><meta data-react-helmet="true" property="og:description" content="## 安装和运行"><meta data-react-helmet="true" property="og:url" content="https://zhouyun-zoe.github.io/muta-docs2/docs/docs_zh/getting_started">

<link data-react-helmet="true" rel="shortcut icon" href="/muta-docs2/img/muta-logo.png">


<link rel="stylesheet" href="/muta-docs2/styles.e2aa70e3.css">


<link rel="preload" href="/muta-docs2/styles.917e3326.js" as="script">

<link rel="preload" href="/muta-docs2/runtime~main.b119cd94.js" as="script">

<link rel="preload" href="/muta-docs2/main.ce345691.js" as="script">

<link rel="preload" href="/muta-docs2/1.991d3a80.js" as="script">

<link rel="preload" href="/muta-docs2/2.93346daa.js" as="script">

<link rel="preload" href="/muta-docs2/3.5acddcf1.js" as="script">

<link rel="preload" href="/muta-docs2/1be78505.0a969bfc.js" as="script">

<link rel="preload" href="/muta-docs2/78ab87d2.c282a14f.js" as="script">

<link rel="preload" href="/muta-docs2/17896441.a65f949d.js" as="script">

<link rel="preload" href="/muta-docs2/f32bc55d.1aa8d76b.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/muta-docs2/"><img class="navbar__logo" src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong class="navbar__title">Muta</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/muta-docs2/docs/docs_zh/intro">Docs</a><a class="navbar__item navbar__link" href="/muta-docs2/docs/tutorial/first-chain/before-create">Tutorial</a><a class="navbar__item navbar__link" href="/muta-docs2/blog">Blog</a><a class="navbar__item navbar__link" href="/muta-docs2/showcase">Showcase</a><a class="navbar__item navbar__link" href="/muta-docs2/docs/support/support">Support</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Translation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/muta-docs2/docs/docs_zh/intro">中文</a></li><li><a class="dropdown__link" href="/muta-docs2/docs/docs_en/intro">English</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/muta-docs2/"><img class="navbar__logo" src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong class="navbar__title">Muta</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" position="left" href="/muta-docs2/docs/docs_zh/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/docs/tutorial/first-chain/before-create">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/showcase">Showcase</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/muta-docs2/docs/support/support">Support</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta" class="menu__link" position="right">GitHub</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist" position="right">Translation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/muta-docs2/docs/docs_zh/intro">中文</a></li><li class="menu__list-item"><a class="menu__link" href="/muta-docs2/docs/docs_en/intro">English</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><a tabindex="-1" class="sidebarLogo_3ono" href="/muta-docs2/"><img src="/muta-docs2/img/muta-logo.png" alt="Muta Logo"><strong>Muta</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">介绍</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/intro">介绍</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/concept">关键概念</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">安装与部署</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/muta-docs2/docs/docs_zh/getting_started">快速入门</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/config">配置说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/muta-docs2/docs/docs_zh/multi_node_deploy">多节点部署指南</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/dev_overview">开发概览</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/service_dev">Service 开发指南</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/dex">DEX 开发指南</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">深入Muta</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/transaction_pool">Mempool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/overlord">Overlord 架构设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/network">网络设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/storage">存储设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/crypto">密码学</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">接口</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/graphql">GraphQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/js_sdk">JS-SDK</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">常见问题</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">贡献说明</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/muta-docs2/docs/docs_zh/contribute">贡献代码</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">快速入门</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="安装和运行"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装和运行" title="Direct link to heading">#</a>安装和运行</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="安装依赖"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装依赖" title="Direct link to heading">#</a>安装依赖</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="macos"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#macos" title="Direct link to heading">#</a><strong>MacOS</strong></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brew install autoconf libtool</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="ubuntu"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ubuntu" title="Direct link to heading">#</a><strong>ubuntu</strong></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ apt update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ apt install -y git curl openssl cmake pkg-config libssl-dev gcc build-essential clang libclang-dev</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="centos7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#centos7" title="Direct link to heading">#</a><strong>centos7</strong></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ yum install -y centos-release-scl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ yum install -y git make gcc-c++ openssl-devel llvm-toolset-7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># 打开 llvm 支持</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ scl enable llvm-toolset-7 bash</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="archlinux"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#archlinux" title="Direct link to heading">#</a><strong>archlinux</strong></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ pacman -Sy --noconfirm git gcc pkgconf clang make</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="编译"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#编译" title="Direct link to heading">#</a>编译</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="获取源码"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#获取源码" title="Direct link to heading">#</a>获取源码</h4><p>通过 git 下载源码：</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ git clone https://github.com/nervosnetwork/muta.git</span></div></div></div></div></div><p>或者在 <a href="https://github.com/nervosnetwork/muta/releases">github releases</a> 下载源码压缩包解压。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="安装-rust"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装-rust" title="Direct link to heading">#</a>安装 RUST</h4><p>在 Unix 平台上，执行 <code>curl https://sh.rustup.rs -sSf | sh</code>；在 Windows 平台上，下载并运行 <a href="https://static.rust-lang.org/rustup/dist/i686-pc-windows-gnu/rustup-init.exe">rustup-init.exe</a>。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="编译-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#编译-1" title="Direct link to heading">#</a>编译</h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd /path/to/muta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo build --release --example muta-chain</span></div></div></div></div></div><p>编译完成后的二进制文件在 <code>target/release/examples/muta-chain</code>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="运行单节点"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#运行单节点" title="Direct link to heading">#</a>运行单节点</h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd /path/to/muta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># 使用默认配置运行 muta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># 如果是直接下载的 binary，请自行替换下面的命令为对应的路径</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./target/release/examples/muta-chain</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="与链进行交互"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#与链进行交互" title="Direct link to heading">#</a>与链进行交互</h2><p>链默认在 8000 端口暴露了 GraphQL 接口用于用户与链进行交互。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="使用-graphiql-与链进行交互"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#使用-graphiql-与链进行交互" title="Direct link to heading">#</a>使用 GraphiQL 与链进行交互</h3><p>打开 <a href="http://127.0.0.1:8000/graphiql">http://127.0.0.1:8000/graphiql</a> 后效果如下图所示：</p><p><img src="./static/graphiql.png"></p><p>左边输入 GraphQL 语句，点击中间的执行键，即可在右边看到执行结果。</p><p>点击右边 Docs 可以查阅接口文档。更多 GraphQL 用法可以参阅 <a href="https://graphql.org/">官方文档</a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="使用-muta-cli-与链进行交互"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#使用-muta-cli-与链进行交互" title="Direct link to heading">#</a>使用 muta-cli 与链进行交互</h3><p>我们通过 <a href="./js_sdk">muta-sdk</a> 和 nodejs 封装了一个交互式命令行，可以更方便的与 muta 进行交互。</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -g muta-cli</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ muta-cli repl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.getLatestBlockHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2081</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.getBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  header: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    chainId: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xb6a4d7da21443f5e816e8700eea87610e6d769657d6b8ec73028457bf2ca4036&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    confirmRoot: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cyclesUsed: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000001&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    execHeight: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    orderRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    preHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x12471b0157af0cc1869361160e651cd6670614fea7fc6834d79bb2699555a0a9&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    proposer: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xf8389d774afdad8755ef8e629e5a154fddc6325a&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    receiptRoot: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    stateRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xf6ec46b4b663a73a3786c27b75d595f9d8e879964faf340c702d078c4d457875&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    timestamp: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;000000005e5a06f5&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    validatorVersion: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    proof: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      bitmap: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      blockHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      round: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      signature: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    validators: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  orderedTxHashes: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  hash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x9c77d286a1b4c77f45c910b73996f1ca66bc55e046917864b7652aa31e686ac2&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>该 REPL 是基于 nodejs 的封装，你可以使用任何符合 nodejs 语法的语句。</p><p>环境中默认注入了一些变量，方便使用：</p><ul><li><code>muta_sdk</code>: 即 muta-sdk 库，更多使用方法可以参考 <a href="https://nervosnetwork.github.io/muta-sdk-js/">muta-sdk 文档</a></li><li><code>muta</code>: muta 链的 instance</li><li><code>client</code>: 对链进行 GraphQL 调用的 client</li><li><code>wallet</code>: 根据助记词（默认为随机生成）推导出的钱包</li><li><code>accounts</code>: 根据 wallet 推导出的 20 个账号</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="使用示例"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#使用示例" title="Direct link to heading">#</a>使用示例</h2><p>以下使用 muta-cli 对链的常用操作进行简单的示例说明：</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ muta-cli repl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 链基础交互</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.getLatestBlockHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2081</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> client.getBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  header: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    chainId: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xb6a4d7da21443f5e816e8700eea87610e6d769657d6b8ec73028457bf2ca4036&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    confirmRoot: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cyclesUsed: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000001&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    execHeight: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    orderRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    preHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x12471b0157af0cc1869361160e651cd6670614fea7fc6834d79bb2699555a0a9&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    proposer: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xf8389d774afdad8755ef8e629e5a154fddc6325a&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    receiptRoot: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    stateRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xf6ec46b4b663a73a3786c27b75d595f9d8e879964faf340c702d078c4d457875&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    timestamp: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;000000005e5a06f5&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    validatorVersion: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    proof: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      bitmap: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      blockHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      round: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000000&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      signature: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    validators: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  orderedTxHashes: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  hash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x9c77d286a1b4c77f45c910b73996f1ca66bc55e046917864b7652aa31e686ac2&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># asset service 操作</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> const account </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> accounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> const </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> new muta_sdk.AssetService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client, account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 发行资产</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> MT </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> await service.create_asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">name: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Muta Token&#x27;</span><span class="token plain">, supply: </span><span class="token number" style="color:rgb(247, 140, 108)">1000000000</span><span class="token plain">, symbol: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MT&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  txHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x8510b5da8c54fb7d5b3de83b13a65188e55102a830a1653ab6c839f3fe326530&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000000026&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cyclesUsed: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0000000000005208&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  events: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      data: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;id&quot;:&quot;0xfdd1609dfa84a04bc2074d9a8a6a4fab13ada36c2cb9570810f997b44d5b8074&quot;,&quot;name&quot;:&quot;Muta Token&quot;,&quot;symbol&quot;:&quot;MT&quot;,&quot;supply&quot;:1000000000,&quot;issuer&quot;:&quot;0x45f74b60a96160352267f2e4fcdcb92ddea304b1&quot;}&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      service: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  stateRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x51e2ad9e08aea6cd34f2c170c79b5eca46485bfe8d95f39e73dc2c709a7b6209&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  response: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;create_asset&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ret: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      id: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xfdd1609dfa84a04bc2074d9a8a6a4fab13ada36c2cb9570810f997b44d5b8074&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      name: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Muta Token&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      symbol: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MT&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      supply: </span><span class="token number" style="color:rgb(247, 140, 108)">1000000000</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      issuer: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x45f74b60a96160352267f2e4fcdcb92ddea304b1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isError: </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> asset_id </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> MT.response.ret.id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 发行者即为发交易的账户地址</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> account.address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x9d1d1bb11c44500603971a245f55a23f65148eee&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 查询发行者余额</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.queryService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain">, method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get_balance&#x27;</span><span class="token plain">, payload: JSON.stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">asset_id: asset_id, user: account.address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  isError: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ret: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;asset_id&quot;:&quot;0xe8c2c6606030bc93da018cec5e6400845489b471527d507357b3316ae884a3f3&quot;,&quot;user&quot;:&quot;0x9d1d1bb11c44500603971a245f55a23f65148eee&quot;,&quot;balance&quot;:1000000000}&#x27;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 转账</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> const to </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> accounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await service.transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">asset_id: asset_id, to, value: </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  txHash: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xfb595feb517dc5d5f8fb23b75f382e67b76fae028d1fd0d72030a20985ac5586&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  height: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x000000000000010d&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cyclesUsed: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x0000000000005208&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  events: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      data: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;asset_id&quot;:&quot;0x5d83b24f012f1e5c1619dc3224de580989f3f518797fdf2845448a85aa06fecd&quot;,&quot;from&quot;:&quot;0xbc4a5e33118de98ffddb6bc192d91a18dafbef22&quot;,&quot;to&quot;:&quot;0x75c64d4b7373e28fbf4e13a81f5c7b309c2f35d6&quot;,&quot;value&quot;:100}&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      service: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  stateRoot: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x83ac204808f0aa3b93d4061b8e27ca75c2e71791fd716378e162c0fb97f1fc1b&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  response: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain">, method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;transfer&#x27;</span><span class="token plain">, ret: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain">, isError: </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 查看转账结果</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.queryService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain">, method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get_balance&#x27;</span><span class="token plain">, payload: JSON.stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">asset_id: asset_id, user: account.address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  isError: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ret: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;asset_id&quot;:&quot;0xe8c2c6606030bc93da018cec5e6400845489b471527d507357b3316ae884a3f3&quot;,&quot;user&quot;:&quot;0x9d1d1bb11c44500603971a245f55a23f65148eee&quot;,&quot;balance&quot;:999999900}&#x27;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> await client.queryService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;asset&#x27;</span><span class="token plain">, method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get_balance&#x27;</span><span class="token plain">, payload: JSON.stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">asset_id: asset_id, user: to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  isError: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ret: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;asset_id&quot;:&quot;0xe8c2c6606030bc93da018cec5e6400845489b471527d507357b3316ae884a3f3&quot;,&quot;user&quot;:&quot;0x9b13a4625e63b0c475c4a6f5dabb761d1c315f2b&quot;,&quot;balance&quot;:100}&#x27;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 链上管理</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> admin </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> muta_sdk.Muta.account.fromPrivateKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x2b672bb959fa7a852d7259b129b65aee9c83b39f427d6f7bded1f58c4c9310c2&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> admin.address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xcff1002107105460941f797828f468667aa1a2db&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> metadata_raw </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> await client.queryService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">serviceName: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;metadata&#x27;</span><span class="token plain">, method: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get_metadata&#x27;</span><span class="token plain">, payload: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  chain_id: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xb6a4d7da21443f5e816e8700eea87610e6d769657d6b8ec73028457bf2ca4036&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  common_ref: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x703873635a6b51513451&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  timeout_gap: </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cycles_limit: </span><span class="token number" style="color:rgb(247, 140, 108)">1000000</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cycles_price: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  interval: </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  verifier_list: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      bls_pub_key: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x04188ef9488c19458a963cc57b567adde7db8f8b6bec392d5cb7b67b0abc1ed6cd966edc451f6ac2ef38079460eb965e890d1f576e4039a20467820237cda753f07a8b8febae1ec052190973a1bcf00690ea8fc0168b3fbbccd1c4e402eda5ef22&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      address: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xf8389d774afdad8755ef8e629e5a154fddc6325a&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      propose_weight: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vote_weight: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  propose_ratio: </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  prevote_ratio: </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  precommit_ratio: </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  brake_ratio: </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tx_num_limit: </span><span class="token number" style="color:rgb(247, 140, 108)">20000</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  max_tx_size: </span><span class="token number" style="color:rgb(247, 140, 108)">1024</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="使用-docker-本地部署多节点链"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#使用-docker-本地部署多节点链" title="Direct link to heading">#</a>使用 docker 本地部署多节点链</h2><p>需要预先安装 <a href="https://www.docker.com/">docker</a>。</p><ol><li>构建 docker 镜像</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> /path/to/muta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> docker-build</span></div></div></div></div></div><ol start="2"><li>运行 docker compose 命令起链</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker compose -f devtools/docker/dockercompose/bft-4-node.yaml up</span></div></div></div></div></div><p>Docker compose 启动 4 个共识节点，分别暴露 GraphQL 本地端口 8001、8002、8003、8004，节点的详细配置信息可前往 <code>devtools/docker/dockercompose</code> 目录查看。</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nervosnetwork/muta-docs/docs/docs_zh/getting_started.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/muta-docs2/docs/docs_zh/concept"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« 关键概念</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/muta-docs2/docs/docs_zh/config"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">配置说明 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#安装和运行" class="contents__link">安装和运行</a><ul><li><a href="#安装依赖" class="contents__link">安装依赖</a></li><li><a href="#编译" class="contents__link">编译</a></li><li><a href="#运行单节点" class="contents__link">运行单节点</a></li></ul></li><li><a href="#与链进行交互" class="contents__link">与链进行交互</a><ul><li><a href="#使用-graphiql-与链进行交互" class="contents__link">使用 GraphiQL 与链进行交互</a></li><li><a href="#使用-muta-cli-与链进行交互" class="contents__link">使用 muta-cli 与链进行交互</a></li></ul></li><li><a href="#使用示例" class="contents__link">使用示例</a></li><li><a href="#使用-docker-本地部署多节点链" class="contents__link">使用 docker 本地部署多节点链</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/getting_started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/service_dev">Service Development</a></li><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/docs/dex">Dapp Development</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://talk.nervos.org/">Forum</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.com/invite/rN35fe8">Discord</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/nervosnetwork">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/muta-docs2/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/nervosnetwork/muta">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Nervos Foundation</div></div></div></footer>
</div>

<script src="/muta-docs2/styles.917e3326.js"></script>

<script src="/muta-docs2/runtime~main.b119cd94.js"></script>

<script src="/muta-docs2/main.ce345691.js"></script>

<script src="/muta-docs2/1.991d3a80.js"></script>

<script src="/muta-docs2/2.93346daa.js"></script>

<script src="/muta-docs2/3.5acddcf1.js"></script>

<script src="/muta-docs2/1be78505.0a969bfc.js"></script>

<script src="/muta-docs2/78ab87d2.c282a14f.js"></script>

<script src="/muta-docs2/17896441.a65f949d.js"></script>

<script src="/muta-docs2/f32bc55d.1aa8d76b.js"></script>


</body>
</html>